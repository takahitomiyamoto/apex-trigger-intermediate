# Lv. 1 : 既存の Apex トリガにロジックを追加してみよう

先ほど書いた Apex トリガには 1 つのアクションしかありませんでした。
もう 1 つ追加してみましょう。

## ビジネス要件

登録されている評価によってその取引先の優先度を機械的に決めたいと考えています。
データを作成および更新するタイミングで値を自動更新してください。

## アーキテクチャ要件

Apex トリガのみで実装してください。
Apex クラスなど他の資源を使用しないでください。

## システム要件

| 観点                     | 内容                             | 備考 |
| :----------------------- | :------------------------------- | :--- |
| Apex トリガ名            | `AccountTrigger`                 | -    |
| 対象オブジェクト         | 取引先                           | -    |
| 複数件レコードの一括処理 | Yes                              | -    |
| 起動条件 (2)             | 新規作成する前 または 更新する前 | -    |
| アクション (2)           | (2)-1. 項目自動更新              | -    |

### (2)-1. 項目自動更新

#### 更新条件

次のいずれかの条件を満たす場合:

| 表示ラベル | 項目名 | 値   | 備考 |
| :--------- | :----- | :--- | :--- |
| 評価       | Rating | Hot  | -    |
| 評価       | Rating | Warm | -    |
| 評価       | Rating | Cold | -    |

#### 更新対象の項目

| 表示ラベル        | 項目名                | 値     | 備考               |
| :---------------- | :-------------------- | :----- | :----------------- |
| Customer Priority | CustomerPriority\_\_c | High   | 評価が Hot の場合  |
| Customer Priority | CustomerPriority\_\_c | Medium | 評価が Warm の場合 |
| Customer Priority | CustomerPriority\_\_c | Low    | 評価が Cold の場合 |

## 解答

> [こちら](level-01-answer.md)
